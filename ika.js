(function(t, e) {
  var n = this.os = {},
    i = this.browser = {},
    r = t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),
    o = t.match(/(Android);?[\s\/]+([\d.]+)?/),
    a = !!t.match(/\(Macintosh\; Intel /),
    s = t.match(/(iPad).*OS\s([\d_]+)/),
    c = t.match(/(iPod)(.*OS\s([\d_]+))?/),
    u = !s && t.match(/(iPhone\sOS)\s([\d_]+)/),
    l = t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),
    h = /Win\d{2}|Windows/.test(e),
    f = t.match(/Windows Phone ([\d.]+)/),
    d = l && t.match(/TouchPad/),
    p = t.match(/Kindle\/([\d.]+)/),
    v = t.match(/Silk\/([\d._]+)/),
    m = t.match(/(BlackBerry).*Version\/([\d.]+)/),
    g = t.match(/(BB10).*Version\/([\d.]+)/),
    b = t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),
    y = t.match(/PlayBook/),
    _ = t.match(/Chrome\/([\d.]+)/) || t.match(/CriOS\/([\d.]+)/),
    w = t.match(/Firefox\/([\d.]+)/),
    k = t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),
    $ = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),
    x = !_ && t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),
    C = x || t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);
  (i.webkit = !!r) && (i.version = r[1]), o && (n.android = !0, n.version = o[2]), u && !c && (n.ios = n.iphone = !0, n.version = u[2].replace(/_/g, ".")), s && (n.ios = n.ipad = !0, n.version = s[2].replace(/_/g, ".")), c && (n.ios = n.ipod = !0, n.version = c[3] ? c[3].replace(/_/g, ".") : null), f && (n.wp = !0, n.version = f[1]), l && (n.webos = !0, n.version = l[2]), d && (n.touchpad = !0), m && (n.blackberry = !0, n.version = m[2]), g && (n.bb10 = !0, n.version = g[2]), b && (n.rimtabletos = !0, n.version = b[2]), y && (i.playbook = !0), p && (n.kindle = !0, n.version = p[1]), v && (i.silk = !0, i.version = v[1]), !v && n.android && t.match(/Kindle Fire/) && (i.silk = !0), _ && (i.chrome = !0, i.version = _[1]), w && (i.firefox = !0, i.version = w[1]), k && (n.firefoxos = !0, n.version = k[1]), $ && (i.ie = !0, i.version = $[1]), C && (a || n.ios || h) && (i.safari = !0, n.ios || (i.version = C[1])), x && (i.webview = !0), n.tablet = !!(s || y || o && !t.match(/Mobile/) || w && t.match(/Tablet/) || $ && !t.match(/Phone/) && t.match(/Touch/)), n.phone = !(n.tablet || n.ipod || !(o || u || l || m || g || _ && t.match(/Android/) || _ && t.match(/CriOS\/([\d.]+)/) || w && t.match(/Mobile/) || $ && t.match(/Touch/)))
}).call($, navigator.userAgent, navigator.platform);

function ika_swim() {
  var t = ["ika/IkaAnime_00.png", "ika/IkaAnime_01.png", "ika/IkaAnime_02.png", "ika/IkaAnime_03.png", "ika/IkaAnime_04.png", "ika/IkaAnime_05.png", "ika/IkaAnime_06.png", "ika/IkaAnime_07.png", "ika/IkaAnime_08.png", "ika/IkaAnime_09.png", "ika/IkaAnime_10.png", "ika/IkaAnime_11.png", "ika/IkaAnime_12.png", "ika/IkaAnime_13.png", "ika/IkaAnime_14.png", "ika/IkaAnime_15.png", "ika/IkaAnime_16.png", "ika/IkaAnime_17.png"],
    e = $("canvas#ika_swim");
  if (!$.os.phone && !$.os.tablet && e[0] && e[0].getContext) {
    var n = {
        y: [0, 0, 0, 0, 0, 0, 2.898550724637681, 2.898550724637681, 2.898550724637681, 2.898550724637681, 2.898550724637681, 2.898550724637681, 5.797101449275362, 5.797101449275362, 5.797101449275362, 5.797101449275362, 8.695652173913043, 8.695652173913043, 8.695652173913043, 11.594202898550725, 11.594202898550725, 11.594202898550725, 14.492753623188406, 14.492753623188406, 14.492753623188406, 17.391304347826086, 17.391304347826086, 20.28985507246377, 20.28985507246377, 23.18840579710145, 23.18840579710145, 26.08695652173913, 26.08695652173913, 28.985507246376812, 28.985507246376812, 31.884057971014492, 31.884057971014492, 34.78260869565217, 34.78260869565217, 37.68115942028985, 37.68115942028985, 40.57971014492754, 40.57971014492754, 43.47826086956522, 43.47826086956522, 46.3768115942029, 49.27536231884058, 49.27536231884058, 52.17391304347826, 52.17391304347826, 55.072463768115945, 55.072463768115945, 57.971014492753625, 60.869565217391305, 60.869565217391305, 63.768115942028984, 63.768115942028984, 66.66666666666667, 69.56521739130434, 69.56521739130434, 72.46376811594203, 72.46376811594203, 75.3623188405797, 75.3623188405797, 78.26086956521739, 81.15942028985508, 81.15942028985508, 84.05797101449275, 84.05797101449275, 86.95652173913044, 86.95652173913044, 89.85507246376811, 89.85507246376811, 92.7536231884058, 95.65217391304348, 95.65217391304348, 98.55072463768116, 98.55072463768116, 101.44927536231884, 101.44927536231884, 101.44927536231884, 104.34782608695652, 104.34782608695652, 107.2463768115942, 107.2463768115942, 110.14492753623189, 110.14492753623189, 110.14492753623189, 113.04347826086956, 113.04347826086956, 115.94202898550725, 115.94202898550725, 115.94202898550725, 118.84057971014492, 118.84057971014492, 118.84057971014492, 118.84057971014492, 121.73913043478261, 121.73913043478261, 121.73913043478261, 121.73913043478261, 124.6376811594203, 124.6376811594203, 124.6376811594203, 124.6376811594203, 124.6376811594203, 124.6376811594203, 124.6376811594203, 124.6376811594203, 124.6376811594203, 124.6376811594203],
        x: [-3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.647887323943662, -3.619718309859155, -3.619718309859155, -3.591549295774648, -3.563380281690141, -3.535211267605634, -3.47887323943662, -3.4225352112676055, -3.3943661971830985, -3.3098591549295775, -3.2535211267605635, -3.169014084507042, -3.112676056338028, -3.028169014084507, -2.943661971830986, -2.859154929577465, -2.7464788732394365, -2.6619718309859155, -2.549295774647887, -2.436619718309859, -2.352112676056338, -2.23943661971831, -2.098591549295775, -1.9859154929577465, -1.8732394366197183, -1.76056338028169, -1.619718309859155, -1.4788732394366195, -1.3661971830985915, -1.2253521126760565, -1.084507042253521, -.943661971830986, -.8028169014084505, -.6619718309859155, -.52112676056338, -.380281690140845, -.21126760563380298, -.07042253521126751, .07042253521126751, .21126760563380298, .352112676056338, .492957746478873, .6338028169014089, .774647887323944, .915492957746479, 1.028169014084507, 1.169014084507042, 1.309859154929578, 1.450704225352113, 1.563380281690141, 1.704225352112676, 1.816901408450704, 1.929577464788733, 2.070422535211268, 2.183098591549296, 2.295774647887324, 2.408450704225352, 2.52112676056338, 2.605633802816902, 2.71830985915493, 2.802816901408451, 2.887323943661972, 2.971830985915493, 3.056338028169014, 3.140845070422535, 3.225352112676056, 3.281690140845071, 3.338028169014085, 3.394366197183099, 3.450704225352113, 3.507042253521127, 3.535211267605634, 3.563380281690141, 3.591549295774648, 3.619718309859155, 3.647887323943662, 3.647887323943662, 3.647887323943662],
        rotate: [-1.1781609195402298, -1.1781609195402298, -1.1781609195402298, -1.1781609195402298, -1.1781609195402298, -1.1666666666666665, -1.1666666666666665, -1.1551724137931034, -1.14367816091954, -1.14367816091954, -1.132183908045977, -1.1206896551724137, -1.1091954022988506, -1.0977011494252873, -1.0747126436781609, -1.0632183908045976, -1.0402298850574712, -1.028735632183908, -1.0172413793103448, -.9942528735632183, -.9712643678160919, -.9597701149425286, -.9367816091954022, -.9137931034482758, -.8908045977011494, -.867816091954023, -.8448275862068966, -.82183908045977, -.7988505747126436, -.7758620689655171, -.7528735632183907, -.7183908045977011, -.6954022988505747, -.6724137931034482, -.6379310344827586, -.6149425287356322, -.5804597701149425, -.557471264367816, -.5229885057471264, -.5, -.4655172413793103, -.43103448275862066, -.40804597701149425, -.37356321839080453, -.3505747126436781, -.3160919540229885, -.2816091954022988, -.24712643678160917, -.22413793103448276, -.18965517241379304, -.15517241379310343, -.1206896551724137, -.0862068965517242, -.06321839080459757, -.028735632183908066, .005747126436781658, .04022988505747138, .07471264367816088, .09770114942528729, .13218390804597702, .16666666666666674, .20114942528735646, .22413793103448287, .2586206896551724, .2931034482758621, .3275862068965518, .35057471264367823, .38505747126436773, .41954022988505746, .44252873563218387, .4770114942528736, .5, .5344827586206897, .5574712643678161, .5919540229885059, .6149425287356323, .6494252873563218, .6724137931034484, .6954022988505748, .7298850574712643, .7528735632183907, .7758620689655173, .7988505747126438, .8218390804597702, .8448275862068968, .867816091954023, .8908045977011496, .9137931034482758, .9367816091954024, .9482758620689657, .9712643678160919, .9942528735632186, 1.0057471264367814, 1.028735632183908, 1.0402298850574714, 1.0517241379310347, 1.0747126436781609, 1.0862068965517242, 1.0977011494252875, 1.1091954022988504, 1.1206896551724137, 1.132183908045977, 1.1436781609195403, 1.1436781609195403, 1.1551724137931036, 1.1551724137931036, 1.1666666666666665, 1.1666666666666665, 1.1666666666666665, 1.1666666666666665, 1.1781609195402298]
      },
      i = [],
      r = function(e) {
        for (var n = 0, r = 0; r < t.length; r++) {
          var o = new Image;
          o.onload = function() {
            n++, n == t.length && null != e && e()
          }, o.src = t[r], i.push(o)
        }
      },
      o = null,
      a = [],
      s = 100,
      c = 100,
      u = 0,
      l = function(t, e) {
        var n = (t.length - 1) * e,
          i = parseInt(n),
          r = n - i;
        return t[i] * (1 - r) + t[i + 1] * r
      },
      h = function() {
        u % 120 == 0 && a.push({
          base_x: Math.random() * (s - i[0].width),
          x: 0,
          invert_x: !1,
          base_y: c,
          y: 0,
          rotate: 0,
          scale: 1 - Math.random() / 3,
          reverse_rotate: !1,
          image_frame: 0,
          total_frame: 0
        });
        for (var t = a.length - 1; t >= 0; t--) {
          var e = a[t],
            r = e.image_frame / i.length;
          e.x = e.base_x + l(n.x, r) * (e.invert_x ? -1 : 1), e.y = e.base_y - l(n.y, r), e.rotate = l(n.rotate, e.reverse_rotate ? 1 - r : r), e.image_frame += .5, e.image_frame >= i.length && (e.image_frame = 0, e.base_y = e.y, e.invert_x = !e.invert_x, e.reverse_rotate = !e.reverse_rotate), e.y + i[0].height * e.scale * 2 <= 0 && a.splice(t, 1)
        }
        u++
      },
      f = function() {
        o.clearRect(0, 0, s, c);
        for (var t = 0; t < a.length; t++) {
          o.save();
          var e = a[t],
            n = i[parseInt(e.image_frame)];
          o.translate(e.x + n.width / 2, e.y + n.height / 2), o.rotate(e.rotate * Math.PI / 180), o.scale(e.scale, e.scale), o.translate(-e.x + n.width / 2, -e.y + n.height / 2), o.drawImage(n, e.x, e.y), o.restore()
        }
      },
      d = function() {
        h(), f()
      },
      p = function() {
        c = document.documentElement.clientHeight, s = document.documentElement.clientWidth, e.attr("height", c + "px"), e.attr("width", s + "px"), o = e[0].getContext("2d")
      },
      v = -1,
      m = 0,
      g = document.body,
      b = function() {
        return 0 == m ? void m++ : ($(document).off("page:change", b), $(window).off("resize", p), v >= 0 && (clearInterval(v), v = -1), $(document).on("page:restore", _), void m++)
      },
      y = !1,
      _ = function() {
        if (g == document.body) {
          $(document).off("page:restore", _), $(window).on("resize", p), $(document).on("page:change", b), m = 0;
          var t = function() {
            p(), f(), v = setInterval(d, 16)
          };
          y ? t() : r(function() {
            y = !0, m >= 2 || t()
          })
        }
      };
    _()
  }
}
$(document).ready(function() {
  ika_swim();
});
